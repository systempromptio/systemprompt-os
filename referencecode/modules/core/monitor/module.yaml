name: monitor
type: daemon
version: 1.0.0
description: System monitoring and observability module
author: SystemPrompt OS Team

dependencies:
  - database
  - logger

config:
  # Metric collection settings
  metrics:
    enabled: true
    flushInterval: 10000 # 10 seconds
    bufferSize: 1000
    batchSize: 100
    collectSystem: true
    systemInterval: 60000 # 1 minute
    retention: 2592000 # 30 days in seconds

  # Alert settings
  alerts:
    enabled: true
    evaluationInterval: 60000 # 1 minute
    channels:
      - type: webhook
        config:
          url: ${MONITOR_ALERT_WEBHOOK_URL:-}
        enabled: false

  # Trace settings
  traces:
    enabled: true
    sampling: 1.0 # Sample 100% of traces
    retention: 604800 # 7 days in seconds

  # Cleanup settings
  cleanup:
    interval: 86400000 # 24 hours
    retentionDays: 30

  # Service name for traces
  serviceName: systemprompt-os

exports:
  - MonitorService
  - recordMetric
  - incrementCounter
  - setGauge
  - recordHistogram
  - startSpan
  - endSpan
  - traced

singleton: true
enabled: true