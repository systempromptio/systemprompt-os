name: agents
type: service
version: 1.0.0
description: Autonomous agent management system
author: systemprompt-os

config:
  maxAgents: 100
  defaultTimeout: 300000
  monitoringInterval: 5000
  retryAttempts: 3
  retryDelay: 1000

dependencies:
  - database
  - logger
  - auth

apis:
  - name: createAgent
    description: Create a new agent
  - name: startAgent
    description: Start an agent
  - name: stopAgent
    description: Stop an agent
  - name: getAgentStatus
    description: Get agent status
  - name: listAgents
    description: List all agents
  - name: assignTask
    description: Assign task to agent

cli:
  commands:
    - name: agents
      description: Agent management commands
      subcommands:
        - name: list
          description: List all agents
          options:
            - name: status
              alias: s
              type: string
              description: Filter by status (active, idle, stopped)
              required: false
            - name: format
              alias: f
              type: string
              description: Output format (json, table)
              required: false
              default: table
        
        - name: create
          description: Create new agent
          options:
            - name: name
              alias: n
              type: string
              description: Agent name
              required: true
            - name: type
              alias: t
              type: string
              description: Agent type
              required: true
            - name: config
              alias: c
              type: string
              description: Configuration JSON
              required: false
        
        - name: start
          description: Start an agent
          options:
            - name: id
              alias: i
              type: string
              description: Agent ID
              required: true
        
        - name: stop
          description: Stop an agent
          options:
            - name: id
              alias: i
              type: string
              description: Agent ID
              required: true
            - name: force
              alias: f
              type: boolean
              description: Force stop
              required: false
              default: false
        
        - name: status
          description: Check agent status
          options:
            - name: id
              alias: i
              type: string
              description: Agent ID
              required: true
        
        - name: logs
          description: View agent logs
          options:
            - name: id
              alias: i
              type: string
              description: Agent ID
              required: true
            - name: lines
              alias: n
              type: number
              description: Number of lines to show
              required: false
              default: 50
            - name: follow
              alias: f
              type: boolean
              description: Follow log output
              required: false
              default: false
        
        - name: config
          description: Configure agent
          options:
            - name: id
              alias: i
              type: string
              description: Agent ID
              required: true
            - name: key
              alias: k
              type: string
              description: Configuration key
              required: true
            - name: value
              alias: v
              type: string
              description: Configuration value
              required: true
        
        - name: assign
          description: Assign agent to task
          options:
            - name: agent
              alias: a
              type: string
              description: Agent ID
              required: true
            - name: task
              alias: t
              type: string
              description: Task ID or description
              required: true
            - name: priority
              alias: p
              type: string
              description: Task priority (low, medium, high)
              required: false
              default: medium

exports:
  - AgentService
  - AgentRepository