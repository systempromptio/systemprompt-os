name: dev
displayName: Development Tools
description: Module providing development utilities and tools
version: 1.0.0
author: SystemPrompt OS Team
category: core
enabled: true

dependencies:
  - logger
  - database

cli:
  commands:
    - name: lint
      description: Run linter and display a formatted summary of issues
      options:
        - name: module
          alias: m
          type: string
          description: Module name to lint (e.g., users, auth, logger)
        - name: target
          alias: t
          type: string
          description: Target file or folder to lint (e.g., src/modules/core/users)
        - name: fix
          alias: f
          type: boolean
          description: Automatically fix problems
          default: false
        - name: max
          type: string
          description: Maximum number of files to display
          default: '10'
    - name: test
      description: Run tests for specific module/file/folder and display test coverage summary
      options:
        - name: module
          alias: m
          type: string
          description: Module name to test (e.g., users, auth, logger)
        - name: target
          alias: t
          type: string
          description: Target file or folder to test (e.g., src/modules/core/users)
        - name: unit
          alias: u
          type: boolean
          description: Run only unit tests
          default: false
        - name: integration
          alias: i
          type: boolean
          description: Run only integration tests
          default: false
        - name: max
          type: string
          description: Maximum number of test suites to display
          default: '10'
    - name: create-module
      description: Create a new SystemPrompt OS module with complete boilerplate
      options:
        - name: name
          alias: n
          type: string
          description: Module name (lowercase with hyphens)
        - name: type
          alias: t
          type: string
          description: Module type (service, utility, integration)
        - name: description
          alias: d
          type: string
          description: Module description
        - name: no-database
          type: boolean
          description: Skip database setup
        - name: no-cli
          type: boolean
          description: Skip CLI commands
        - name: deps
          type: array
          description: Module dependencies
    - name: typecheck
      description: Run TypeScript type checking and display errors
      options:
        - name: module
          alias: m
          type: string
          description: Module name to typecheck (e.g., users, auth, logger)
        - name: target
          alias: t
          type: string
          description: Target file or folder to typecheck (e.g., src/modules/core/users)
        - name: strict
          alias: s
          type: boolean
          description: Enable strict type checking
          default: false
        - name: max
          type: string
          description: Maximum number of errors to display
          default: '10'
    - name: generate-types
      description: Generate comprehensive types for a module (database types, interfaces, Zod schemas, type guards)
      options:
        - name: module
          alias: m
          type: string
          description: Module name to generate types for
        - name: pattern
          alias: p
          type: string
          description: Glob pattern to match files
        - name: types
          alias: t
          type: string
          description: Comma-separated list of types to generate (database,interfaces,schemas,service-schemas,type-guards,all)
    - name: validate
      description: Validate that a module is fully type-safe using generated types
      options:
        - name: module
          alias: m
          type: string
          description: Module name to validate
          required: true

database:
  schema: ./database/schema.sql