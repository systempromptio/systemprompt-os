name: extension
type: service
version: 1.0.0
description: Extension and module management for SystemPrompt OS
author: systemprompt-os
config:
  modulesPath: ./src/modules
  extensionsPath: ./extensions
  registryUrl: https://registry.systemprompt.os
  autoDiscover: true
dependencies:
  - logger
  - config
cli:
  commands:
    - name: list
      description: List installed extensions and modules
      options:
        - name: type
          alias: t
          type: string
          description: Filter by type (module, server, all)
          default: all
        - name: format
          alias: f
          type: string
          description: Output format (text, json, table)
          default: text
    - name: install
      description: Install an extension
      options:
        - name: name
          type: string
          description: Extension name or path
          required: true
        - name: version
          alias: v
          type: string
          description: Specific version to install
        - name: force
          alias: f
          type: boolean
          description: Force installation even if already exists
    - name: remove
      description: Remove an extension
      options:
        - name: name
          type: string
          description: Extension name to remove
          required: true
        - name: preserve-config
          type: boolean
          description: Preserve configuration files
    - name: validate
      description: Validate module/extension structure and configuration
      options:
        - name: path
          alias: p
          type: string
          description: Path to module/extension directory
          required: false
        - name: all
          alias: a
          type: boolean
          description: Validate all modules in the core directory
          default: false
        - name: strict
          alias: s
          type: boolean
          description: Use strict validation rules
          default: false
        - name: fix
          alias: f
          type: boolean
          description: Attempt to fix common issues
          default: false
    - name: info
      description: Show detailed information about an extension
      options:
        - name: name
          type: string
          description: Extension name
          required: true
    - name: create
      description: Create a new module with proper structure
      options:
        - name: name
          alias: n
          type: string
          description: Module name (lowercase, alphanumeric with hyphens)
          required: true
        - name: type
          alias: t
          type: string
          description: Module type (service, daemon, plugin, core, extension)
          default: service
        - name: description
          alias: d
          type: string
          description: Module description
          default: A new SystemPrompt OS module
        - name: author
          alias: a
          type: string
          description: Module author
          default: SystemPrompt Team
        - name: style
          alias: s
          type: string
          description: Implementation style (class, function)
          default: class
        - name: path
          alias: p
          type: string
          description: Path to create module in
          default: ./src/modules/core