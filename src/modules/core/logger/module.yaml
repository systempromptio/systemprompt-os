name: logger
type: core
version: 1.0.0
description: System-wide logging service with file and console output
author: SystemPrompt OS Team <team@systemprompt-os.com>
singleton: true
enabled: true
dependencies: []
exports:
  - services
  - types
  - utils
config:
  stateDir: ${STATE_DIR}
  logLevel: ${LOG_LEVEL:-info}
  maxSize: ${LOG_MAX_SIZE:-10MB}
  maxFiles: ${LOG_MAX_FILES:-5}
  outputs:
    - console
    - file
  files:
    system: system.log
    error: error.log
    access: access.log
cli:
  commands:
    - name: status
      description: Show logger module status (enabled/healthy)
      options:
        - name: format
          alias: f
          type: string
          description: Output format (text, json)
          default: text
    - name: show
      description: Show recent logs from database
      options:
        - name: limit
          alias: l
          type: number
          description: Number of recent logs to show
          default: 50
        - name: level
          type: string
          description: Filter by log level (debug, info, warn, error)
        - name: module
          alias: m
          type: string
          description: Filter by module name
        - name: since
          alias: s
          type: string
          description: Show logs since timestamp (YYYY-MM-DD HH:MM:SS)
        - name: pager
          alias: p
          type: boolean
          description: Use pager for output (less)
        - name: format
          alias: f
          type: string
          description: Output format (text, json)
          default: text
    - name: clear
      description: Clear logs from database
      options:
        - name: level
          type: string
          description: Clear only specific log level (debug, info, warn, error)
        - name: older-than
          alias: o
          type: string
          description: Clear logs older than N days (e.g., 30)
        - name: confirm
          alias: y
          type: boolean
          description: Skip confirmation prompt
        - name: dry-run
          type: boolean
          description: Show what would be deleted without actually deleting
        - name: format
          alias: f
          type: string
          description: Output format (text, json)
          default: text