name: users
type: core
version: 1.0.0
description: User management and authentication services
author: SystemPrompt OS
dependencies:
  - logger
  - database
  - permissions
enabled: true
singleton: true

cli:
  commands:
    - name: status
      description: Show users module status (enabled/healthy)
    - name: list
      description: List all users
      options:
        - name: format
          alias: f
          type: string
          description: Output format (table, json)
          default: table
          choices: [table, json]
    - name: create
      description: Create a new user
      options:
        - name: username
          alias: u
          type: string
          description: Username
          required: true
        - name: email
          alias: e
          type: string
          description: Email address
          required: true
        - name: password
          alias: p
          type: string
          description: User password
        - name: role
          alias: r
          type: string
          description: User role
          default: user
        - name: format
          alias: f
          type: string
          description: Output format (table, json)
          default: table
    - name: get
      description: Get user information by ID or username
      options:
        - name: id
          alias: i
          type: string
          description: User ID
        - name: username
          alias: u
          type: string
          description: Username
        - name: format
          alias: f
          type: string
          description: Output format (table, json)
          default: table
    - name: update
      description: Update user information
      options:
        - name: id
          alias: i
          type: string
          description: User ID
          required: true
        - name: email
          alias: e
          type: string
          description: New email address
        - name: status
          alias: s
          type: string
          description: User status (active, inactive, suspended)
        - name: format
          alias: f
          type: string
          description: Output format (table, json)
          default: table
    - name: delete
      description: Delete a user
      options:
        - name: id
          alias: i
          type: string
          description: User ID
          required: true
        - name: force
          type: boolean
          description: Force deletion without confirmation
          default: false

exports:
  - services
  - types