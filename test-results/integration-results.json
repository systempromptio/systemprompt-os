{"numTotalTestSuites":40,"numPassedTestSuites":11,"numFailedTestSuites":29,"numPendingTestSuites":0,"numTotalTests":57,"numPassedTests":12,"numFailedTests":37,"numPendingTests":8,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1754056822990,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Event Bus Communication Integration Test","Event Bus Basic Operations"],"fullName":"Event Bus Communication Integration Test Event Bus Basic Operations should emit and handle events","status":"passed","title":"should emit and handle events","duration":12.19457000028342,"failureMessages":[],"meta":{}},{"ancestorTitles":["Event Bus Communication Integration Test","Event Bus Basic Operations"],"fullName":"Event Bus Communication Integration Test Event Bus Basic Operations should handle multiple subscribers","status":"passed","title":"should handle multiple subscribers","duration":11.557864000089467,"failureMessages":[],"meta":{}},{"ancestorTitles":["Event Bus Communication Integration Test","Cross-Module Event Communication"],"fullName":"Event Bus Communication Integration Test Cross-Module Event Communication should handle task creation events","status":"passed","title":"should handle task creation events","duration":51.52949500083923,"failureMessages":[],"meta":{}},{"ancestorTitles":["Event Bus Communication Integration Test","Cross-Module Event Communication"],"fullName":"Event Bus Communication Integration Test Cross-Module Event Communication should handle agent creation events","status":"failed","title":"should handle agent creation events","duration":54.7259490005672,"failureMessages":["TypeError: Cannot read properties of null (reading 'agentId')\n    at /var/www/html/systemprompt-os/tests/integration/modules/core/events/events.integration.test.ts:207:32\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1271:3)\n    at file:///var/www/html/systemprompt-os/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11\n    at withEnv (file:///var/www/html/systemprompt-os/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:90:5)"],"meta":{}},{"ancestorTitles":["Event Bus Communication Integration Test","Event Error Handling"],"fullName":"Event Bus Communication Integration Test Event Error Handling should handle errors in event handlers gracefully","status":"passed","title":"should handle errors in event handlers gracefully","duration":11.108859000727534,"failureMessages":[],"meta":{}},{"ancestorTitles":["Event Bus Communication Integration Test","Event Patterns"],"fullName":"Event Bus Communication Integration Test Event Patterns should handle multiple event subscriptions","status":"passed","title":"should handle multiple event subscriptions","duration":21.391706000082195,"failureMessages":[],"meta":{}}],"startTime":1754056824620,"endTime":1754056824783.109,"status":"failed","message":"","name":"/var/www/html/systemprompt-os/tests/integration/modules/core/events/events.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["events clear CLI command","safety and confirmation"],"fullName":"events clear CLI command safety and confirmation should require confirmation flag","status":"passed","title":"should require confirmation flag","duration":2793.9407480005175,"failureMessages":[],"meta":{}},{"ancestorTitles":["events clear CLI command","safety and confirmation"],"fullName":"events clear CLI command safety and confirmation should display safety warning without confirm flag","status":"failed","title":"should display safety warning without confirm flag","duration":2876.5343019999564,"failureMessages":["Error: Command failed: ./bin/systemprompt events clear --type events\n❌ This operation will permanently delete data.\n❌ Use --confirm flag to proceed with the clear operation.\n\n    at checkExecSyncError (node:child_process:890:11)\n    at Proxy.execSync (node:child_process:962:15)\n    at /var/www/html/systemprompt-os/tests/integration/modules/core/events/cli/clear.integration.test.ts:34:22\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:146:14\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:533:11\n    at runWithTimeout (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:39:7)\n    at runTest (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1056:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)"],"meta":{}},{"ancestorTitles":["events clear CLI command","JSON output with confirmation"],"fullName":"events clear CLI command JSON output with confirmation should return valid JSON with --format json and --confirm","status":"failed","title":"should return valid JSON with --format json and --confirm","duration":2872.1869620000944,"failureMessages":["AssertionError: expected [Function] to not throw an error but 'SyntaxError: Unexpected token m in JS…' was thrown\n    at Proxy.<anonymous> (file:///var/www/html/systemprompt-os/node_modules/@vitest/expect/dist/index.js:1509:21)\n    at Proxy.<anonymous> (file:///var/www/html/systemprompt-os/node_modules/@vitest/expect/dist/index.js:972:17)\n    at Proxy.methodWrapper (file:///var/www/html/systemprompt-os/node_modules/chai/chai.js:1706:25)\n    at /var/www/html/systemprompt-os/tests/integration/modules/core/events/cli/clear.integration.test.ts:51:44\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:146:14\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:533:11\n    at runWithTimeout (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:39:7)\n    at runTest (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1056:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)"],"meta":{}},{"ancestorTitles":["events clear CLI command","JSON output with confirmation"],"fullName":"events clear CLI command JSON output with confirmation should include operation details in JSON response","status":"failed","title":"should include operation details in JSON response","duration":2842.394878000021,"failureMessages":["SyntaxError: Unexpected token m in JSON at position 0\n    at JSON.parse (<anonymous>)\n    at /var/www/html/systemprompt-os/tests/integration/modules/core/events/cli/clear.integration.test.ts:62:29\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:146:14\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:533:11\n    at runWithTimeout (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:39:7)\n    at runTest (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1056:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)"],"meta":{}},{"ancestorTitles":["events clear CLI command","text output with confirmation"],"fullName":"events clear CLI command text output with confirmation should display clear operation results","status":"passed","title":"should display clear operation results","duration":2797.2854190003127,"failureMessages":[],"meta":{}},{"ancestorTitles":["events clear CLI command","clear types"],"fullName":"events clear CLI command clear types should support clearing events only","status":"failed","title":"should support clearing events only","duration":1664.7447729995474,"failureMessages":["Error: Command failed: ./bin/systemprompt events clear --type events --confirm --format json\nmodules Could not initialize module manager (database not available): { error: 'DatabaseService not initialized. Call initialize() first.' }\nCLI initialization failed: TypeError: Cannot read properties of undefined (reading 'has')\n    at Bootstrap.handleBootstrapError (/var/www/html/systemprompt-os/src/bootstrap.ts:210:22)\n    at Bootstrap.bootstrap (/var/www/html/systemprompt-os/src/bootstrap.ts:63:12)\n    at BootstrapCliService.bootstrapCli (/var/www/html/systemprompt-os/src/modules/core/cli/services/bootstrap-cli.service.ts:70:21)\n    at registerModuleCommands (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:283:37)\n    at main (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:375:20)\n\n    at checkExecSyncError (node:child_process:890:11)\n    at Proxy.execSync (node:child_process:962:15)\n    at /var/www/html/systemprompt-os/tests/integration/modules/core/events/cli/clear.integration.test.ts:90:22\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:146:14\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:533:11\n    at runWithTimeout (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:39:7)\n    at runTest (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1056:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)"],"meta":{}},{"ancestorTitles":["events clear CLI command","clear types"],"fullName":"events clear CLI command clear types should support clearing subscriptions only","status":"failed","title":"should support clearing subscriptions only","duration":1692.3042449997738,"failureMessages":["Error: Command failed: ./bin/systemprompt events clear --type subscriptions --confirm --format json\nmodules Could not initialize module manager (database not available): { error: 'DatabaseService not initialized. Call initialize() first.' }\nCLI initialization failed: TypeError: Cannot read properties of undefined (reading 'has')\n    at Bootstrap.handleBootstrapError (/var/www/html/systemprompt-os/src/bootstrap.ts:210:22)\n    at Bootstrap.bootstrap (/var/www/html/systemprompt-os/src/bootstrap.ts:63:12)\n    at BootstrapCliService.bootstrapCli (/var/www/html/systemprompt-os/src/modules/core/cli/services/bootstrap-cli.service.ts:70:21)\n    at registerModuleCommands (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:283:37)\n    at main (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:375:20)\n\n    at checkExecSyncError (node:child_process:890:11)\n    at Proxy.execSync (node:child_process:962:15)\n    at /var/www/html/systemprompt-os/tests/integration/modules/core/events/cli/clear.integration.test.ts:101:22\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:146:14\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:533:11\n    at runWithTimeout (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:39:7)\n    at runTest (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1056:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)"],"meta":{}},{"ancestorTitles":["events clear CLI command","clear types"],"fullName":"events clear CLI command clear types should support clearing all","status":"failed","title":"should support clearing all","duration":1699.3137729996815,"failureMessages":["Error: Command failed: ./bin/systemprompt events clear --type all --confirm --format json\nmodules Could not initialize module manager (database not available): { error: 'DatabaseService not initialized. Call initialize() first.' }\nCLI initialization failed: TypeError: Cannot read properties of undefined (reading 'has')\n    at Bootstrap.handleBootstrapError (/var/www/html/systemprompt-os/src/bootstrap.ts:210:22)\n    at Bootstrap.bootstrap (/var/www/html/systemprompt-os/src/bootstrap.ts:63:12)\n    at BootstrapCliService.bootstrapCli (/var/www/html/systemprompt-os/src/modules/core/cli/services/bootstrap-cli.service.ts:70:21)\n    at registerModuleCommands (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:283:37)\n    at main (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:375:20)\n\n    at checkExecSyncError (node:child_process:890:11)\n    at Proxy.execSync (node:child_process:962:15)\n    at /var/www/html/systemprompt-os/tests/integration/modules/core/events/cli/clear.integration.test.ts:113:22\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:146:14\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:533:11\n    at runWithTimeout (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:39:7)\n    at runTest (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1056:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)"],"meta":{}},{"ancestorTitles":["events clear CLI command","validation"],"fullName":"events clear CLI command validation should validate type parameter","status":"passed","title":"should validate type parameter","duration":1675.2830379996449,"failureMessages":[],"meta":{}},{"ancestorTitles":["events clear CLI command","validation"],"fullName":"events clear CLI command validation should default to events type","status":"failed","title":"should default to events type","duration":1639.2037760000676,"failureMessages":["Error: Command failed: ./bin/systemprompt events clear --confirm --format json\nmodules Could not initialize module manager (database not available): { error: 'DatabaseService not initialized. Call initialize() first.' }\nCLI initialization failed: TypeError: Cannot read properties of undefined (reading 'has')\n    at Bootstrap.handleBootstrapError (/var/www/html/systemprompt-os/src/bootstrap.ts:210:22)\n    at Bootstrap.bootstrap (/var/www/html/systemprompt-os/src/bootstrap.ts:63:12)\n    at BootstrapCliService.bootstrapCli (/var/www/html/systemprompt-os/src/modules/core/cli/services/bootstrap-cli.service.ts:70:21)\n    at registerModuleCommands (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:283:37)\n    at main (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:375:20)\n\n    at checkExecSyncError (node:child_process:890:11)\n    at Proxy.execSync (node:child_process:962:15)\n    at /var/www/html/systemprompt-os/tests/integration/modules/core/events/cli/clear.integration.test.ts:136:22\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:146:14\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:533:11\n    at runWithTimeout (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:39:7)\n    at runTest (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1056:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)"],"meta":{}},{"ancestorTitles":["events clear CLI command","error handling"],"fullName":"events clear CLI command error handling should handle invalid format gracefully","status":"passed","title":"should handle invalid format gracefully","duration":1656.8952830005437,"failureMessages":[],"meta":{}},{"ancestorTitles":["events clear CLI command","functionality verification"],"fullName":"events clear CLI command functionality verification should actually clear events from database","status":"failed","title":"should actually clear events from database","duration":2322.876658000052,"failureMessages":["Error: Command failed: ./bin/systemprompt events emit --eventName \"test.clear.verify\" --format json\nmodules Could not initialize module manager (database not available): { error: 'DatabaseService not initialized. Call initialize() first.' }\nCLI initialization failed: TypeError: Cannot read properties of undefined (reading 'has')\n    at Bootstrap.handleBootstrapError (/var/www/html/systemprompt-os/src/bootstrap.ts:210:22)\n    at Bootstrap.bootstrap (/var/www/html/systemprompt-os/src/bootstrap.ts:63:12)\n    at BootstrapCliService.bootstrapCli (/var/www/html/systemprompt-os/src/modules/core/cli/services/bootstrap-cli.service.ts:70:21)\n    at registerModuleCommands (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:283:37)\n    at main (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:375:20)\n\n    at checkExecSyncError (node:child_process:890:11)\n    at Proxy.execSync (node:child_process:962:15)\n    at /var/www/html/systemprompt-os/tests/integration/modules/core/events/cli/clear.integration.test.ts:161:7\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:146:14\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:533:11\n    at runWithTimeout (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:39:7)\n    at runTest (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1056:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)"],"meta":{}}],"startTime":1754056824815,"endTime":1754056851347.8953,"status":"failed","message":"","name":"/var/www/html/systemprompt-os/tests/integration/modules/core/events/cli/clear.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["events emit CLI command","JSON output"],"fullName":"events emit CLI command JSON output should return valid JSON with --format json","status":"failed","title":"should return valid JSON with --format json","duration":847.6465940000489,"failureMessages":["Error: Command failed: ./bin/systemprompt events emit --eventName \"test.emit.json\" --format json\nmodules Could not initialize module manager (database not available): { error: 'DatabaseService not initialized. Call initialize() first.' }\nCLI initialization failed: TypeError: Cannot read properties of undefined (reading 'has')\n    at Bootstrap.handleBootstrapError (/var/www/html/systemprompt-os/src/bootstrap.ts:210:22)\n    at Bootstrap.bootstrap (/var/www/html/systemprompt-os/src/bootstrap.ts:63:12)\n    at BootstrapCliService.bootstrapCli (/var/www/html/systemprompt-os/src/modules/core/cli/services/bootstrap-cli.service.ts:70:21)\n    at registerModuleCommands (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:283:37)\n    at main (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:375:20)\n\n    at checkExecSyncError (node:child_process:890:11)\n    at Proxy.execSync (node:child_process:962:15)\n    at /var/www/html/systemprompt-os/tests/integration/modules/core/events/cli/emit.integration.test.ts:13:22\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:146:14\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:533:11\n    at runWithTimeout (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:39:7)\n    at runTest (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1056:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)"],"meta":{}},{"ancestorTitles":["events emit CLI command","JSON output"],"fullName":"events emit CLI command JSON output should include event details in JSON response","status":"failed","title":"should include event details in JSON response","duration":839.9647780004889,"failureMessages":["Error: Command failed: ./bin/systemprompt events emit --eventName \"test.emit.details\" --data '{\"test\": \"data\", \"number\": 42}' --format json\nmodules Could not initialize module manager (database not available): { error: 'DatabaseService not initialized. Call initialize() first.' }\nCLI initialization failed: TypeError: Cannot read properties of undefined (reading 'has')\n    at Bootstrap.handleBootstrapError (/var/www/html/systemprompt-os/src/bootstrap.ts:210:22)\n    at Bootstrap.bootstrap (/var/www/html/systemprompt-os/src/bootstrap.ts:63:12)\n    at BootstrapCliService.bootstrapCli (/var/www/html/systemprompt-os/src/modules/core/cli/services/bootstrap-cli.service.ts:70:21)\n    at registerModuleCommands (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:283:37)\n    at main (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:375:20)\n\n    at checkExecSyncError (node:child_process:890:11)\n    at Proxy.execSync (node:child_process:962:15)\n    at /var/www/html/systemprompt-os/tests/integration/modules/core/events/cli/emit.integration.test.ts:27:22\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:146:14\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:533:11\n    at runWithTimeout (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:39:7)\n    at runTest (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1056:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)"],"meta":{}},{"ancestorTitles":["events emit CLI command","JSON output"],"fullName":"events emit CLI command JSON output should handle string data correctly","status":"failed","title":"should handle string data correctly","duration":822.2163740005344,"failureMessages":["Error: Command failed: ./bin/systemprompt events emit --eventName \"test.emit.string\" --data \"simple string\" --format json\nmodules Could not initialize module manager (database not available): { error: 'DatabaseService not initialized. Call initialize() first.' }\nCLI initialization failed: TypeError: Cannot read properties of undefined (reading 'has')\n    at Bootstrap.handleBootstrapError (/var/www/html/systemprompt-os/src/bootstrap.ts:210:22)\n    at Bootstrap.bootstrap (/var/www/html/systemprompt-os/src/bootstrap.ts:63:12)\n    at BootstrapCliService.bootstrapCli (/var/www/html/systemprompt-os/src/modules/core/cli/services/bootstrap-cli.service.ts:70:21)\n    at registerModuleCommands (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:283:37)\n    at main (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:375:20)\n\n    at checkExecSyncError (node:child_process:890:11)\n    at Proxy.execSync (node:child_process:962:15)\n    at /var/www/html/systemprompt-os/tests/integration/modules/core/events/cli/emit.integration.test.ts:43:22\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:146:14\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:533:11\n    at runWithTimeout (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:39:7)\n    at runTest (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1056:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)"],"meta":{}},{"ancestorTitles":["events emit CLI command","JSON output"],"fullName":"events emit CLI command JSON output should handle empty data correctly","status":"failed","title":"should handle empty data correctly","duration":817.556702000089,"failureMessages":["Error: Command failed: ./bin/systemprompt events emit --eventName \"test.emit.empty\" --format json\nmodules Could not initialize module manager (database not available): { error: 'DatabaseService not initialized. Call initialize() first.' }\nCLI initialization failed: TypeError: Cannot read properties of undefined (reading 'has')\n    at Bootstrap.handleBootstrapError (/var/www/html/systemprompt-os/src/bootstrap.ts:210:22)\n    at Bootstrap.bootstrap (/var/www/html/systemprompt-os/src/bootstrap.ts:63:12)\n    at BootstrapCliService.bootstrapCli (/var/www/html/systemprompt-os/src/modules/core/cli/services/bootstrap-cli.service.ts:70:21)\n    at registerModuleCommands (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:283:37)\n    at main (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:375:20)\n\n    at checkExecSyncError (node:child_process:890:11)\n    at Proxy.execSync (node:child_process:962:15)\n    at /var/www/html/systemprompt-os/tests/integration/modules/core/events/cli/emit.integration.test.ts:53:22\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:146:14\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:533:11\n    at runWithTimeout (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:39:7)\n    at runTest (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1056:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)"],"meta":{}},{"ancestorTitles":["events emit CLI command","JSON output"],"fullName":"events emit CLI command JSON output should support custom source","status":"failed","title":"should support custom source","duration":825.0293060000986,"failureMessages":["Error: Command failed: ./bin/systemprompt events emit --eventName \"test.emit.source\" --source \"integration-test\" --format json\nmodules Could not initialize module manager (database not available): { error: 'DatabaseService not initialized. Call initialize() first.' }\nCLI initialization failed: TypeError: Cannot read properties of undefined (reading 'has')\n    at Bootstrap.handleBootstrapError (/var/www/html/systemprompt-os/src/bootstrap.ts:210:22)\n    at Bootstrap.bootstrap (/var/www/html/systemprompt-os/src/bootstrap.ts:63:12)\n    at BootstrapCliService.bootstrapCli (/var/www/html/systemprompt-os/src/modules/core/cli/services/bootstrap-cli.service.ts:70:21)\n    at registerModuleCommands (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:283:37)\n    at main (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:375:20)\n\n    at checkExecSyncError (node:child_process:890:11)\n    at Proxy.execSync (node:child_process:962:15)\n    at /var/www/html/systemprompt-os/tests/integration/modules/core/events/cli/emit.integration.test.ts:63:22\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:146:14\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:533:11\n    at runWithTimeout (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:39:7)\n    at runTest (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1056:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)"],"meta":{}},{"ancestorTitles":["events emit CLI command","text output"],"fullName":"events emit CLI command text output should display success message and details","status":"failed","title":"should display success message and details","duration":839.9388599991798,"failureMessages":["Error: Command failed: ./bin/systemprompt events emit --eventName \"test.emit.text\"\nmodules Could not initialize module manager (database not available): { error: 'DatabaseService not initialized. Call initialize() first.' }\nCLI initialization failed: TypeError: Cannot read properties of undefined (reading 'has')\n    at Bootstrap.handleBootstrapError (/var/www/html/systemprompt-os/src/bootstrap.ts:210:22)\n    at Bootstrap.bootstrap (/var/www/html/systemprompt-os/src/bootstrap.ts:63:12)\n    at BootstrapCliService.bootstrapCli (/var/www/html/systemprompt-os/src/modules/core/cli/services/bootstrap-cli.service.ts:70:21)\n    at registerModuleCommands (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:283:37)\n    at main (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:375:20)\n\n    at checkExecSyncError (node:child_process:890:11)\n    at Proxy.execSync (node:child_process:962:15)\n    at /var/www/html/systemprompt-os/tests/integration/modules/core/events/cli/emit.integration.test.ts:75:22\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:146:14\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:533:11\n    at runWithTimeout (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:39:7)\n    at runTest (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1056:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)"],"meta":{}},{"ancestorTitles":["events emit CLI command","validation"],"fullName":"events emit CLI command validation should require eventName parameter","status":"passed","title":"should require eventName parameter","duration":835.4821019992232,"failureMessages":[],"meta":{}},{"ancestorTitles":["events emit CLI command","validation"],"fullName":"events emit CLI command validation should validate eventName is not empty","status":"passed","title":"should validate eventName is not empty","duration":842.7588560003787,"failureMessages":[],"meta":{}},{"ancestorTitles":["events emit CLI command","data parsing"],"fullName":"events emit CLI command data parsing should handle valid JSON data","status":"failed","title":"should handle valid JSON data","duration":861.8669320000336,"failureMessages":["Error: Command failed: ./bin/systemprompt events emit --eventName \"test.emit.json.data\" --data '{\"key\": \"value\", \"number\": 123, \"boolean\": true}' --format json\nmodules Could not initialize module manager (database not available): { error: 'DatabaseService not initialized. Call initialize() first.' }\nCLI initialization failed: TypeError: Cannot read properties of undefined (reading 'has')\n    at Bootstrap.handleBootstrapError (/var/www/html/systemprompt-os/src/bootstrap.ts:210:22)\n    at Bootstrap.bootstrap (/var/www/html/systemprompt-os/src/bootstrap.ts:63:12)\n    at BootstrapCliService.bootstrapCli (/var/www/html/systemprompt-os/src/modules/core/cli/services/bootstrap-cli.service.ts:70:21)\n    at registerModuleCommands (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:283:37)\n    at main (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:375:20)\n\n    at checkExecSyncError (node:child_process:890:11)\n    at Proxy.execSync (node:child_process:962:15)\n    at /var/www/html/systemprompt-os/tests/integration/modules/core/events/cli/emit.integration.test.ts:112:22\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:146:14\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:533:11\n    at runWithTimeout (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:39:7)\n    at runTest (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1056:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)"],"meta":{}},{"ancestorTitles":["events emit CLI command","data parsing"],"fullName":"events emit CLI command data parsing should fallback to string wrapper for invalid JSON","status":"failed","title":"should fallback to string wrapper for invalid JSON","duration":858.5141150001436,"failureMessages":["Error: Command failed: ./bin/systemprompt events emit --eventName \"test.emit.invalid.json\" --data \"{invalid json}\" --format json\nmodules Could not initialize module manager (database not available): { error: 'DatabaseService not initialized. Call initialize() first.' }\nCLI initialization failed: TypeError: Cannot read properties of undefined (reading 'has')\n    at Bootstrap.handleBootstrapError (/var/www/html/systemprompt-os/src/bootstrap.ts:210:22)\n    at Bootstrap.bootstrap (/var/www/html/systemprompt-os/src/bootstrap.ts:63:12)\n    at BootstrapCliService.bootstrapCli (/var/www/html/systemprompt-os/src/modules/core/cli/services/bootstrap-cli.service.ts:70:21)\n    at registerModuleCommands (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:283:37)\n    at main (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:375:20)\n\n    at checkExecSyncError (node:child_process:890:11)\n    at Proxy.execSync (node:child_process:962:15)\n    at /var/www/html/systemprompt-os/tests/integration/modules/core/events/cli/emit.integration.test.ts:127:22\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:146:14\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:533:11\n    at runWithTimeout (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:39:7)\n    at runTest (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1056:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)"],"meta":{}},{"ancestorTitles":["events emit CLI command","error handling"],"fullName":"events emit CLI command error handling should handle invalid format gracefully","status":"passed","title":"should handle invalid format gracefully","duration":851.758177999407,"failureMessages":[],"meta":{}},{"ancestorTitles":["events emit CLI command","event persistence"],"fullName":"events emit CLI command event persistence should persist emitted events to database","status":"failed","title":"should persist emitted events to database","duration":851.5020130006596,"failureMessages":["Error: Command failed: ./bin/systemprompt events emit --eventName \"test.emit.persistence\" --data '{\"persisted\": true}' --format json\nmodules Could not initialize module manager (database not available): { error: 'DatabaseService not initialized. Call initialize() first.' }\nCLI initialization failed: TypeError: Cannot read properties of undefined (reading 'has')\n    at Bootstrap.handleBootstrapError (/var/www/html/systemprompt-os/src/bootstrap.ts:210:22)\n    at Bootstrap.bootstrap (/var/www/html/systemprompt-os/src/bootstrap.ts:63:12)\n    at BootstrapCliService.bootstrapCli (/var/www/html/systemprompt-os/src/modules/core/cli/services/bootstrap-cli.service.ts:70:21)\n    at registerModuleCommands (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:283:37)\n    at main (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:375:20)\n\n    at checkExecSyncError (node:child_process:890:11)\n    at Proxy.execSync (node:child_process:962:15)\n    at /var/www/html/systemprompt-os/tests/integration/modules/core/events/cli/emit.integration.test.ts:153:7\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:146:14\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:533:11\n    at runWithTimeout (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:39:7)\n    at runTest (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1056:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)"],"meta":{}}],"startTime":1754056851418,"endTime":1754056861513.758,"status":"failed","message":"","name":"/var/www/html/systemprompt-os/tests/integration/modules/core/events/cli/emit.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["events get CLI command","JSON output"],"fullName":"events get CLI command JSON output should return valid JSON with --format json","status":"skipped","title":"should return valid JSON with --format json","failureMessages":[],"meta":{}},{"ancestorTitles":["events get CLI command","JSON output"],"fullName":"events get CLI command JSON output should include all event fields in JSON output","status":"skipped","title":"should include all event fields in JSON output","failureMessages":[],"meta":{}},{"ancestorTitles":["events get CLI command","JSON output"],"fullName":"events get CLI command JSON output should return error for nonexistent event","status":"skipped","title":"should return error for nonexistent event","failureMessages":[],"meta":{}},{"ancestorTitles":["events get CLI command","text output"],"fullName":"events get CLI command text output should display event details in readable format","status":"skipped","title":"should display event details in readable format","failureMessages":[],"meta":{}},{"ancestorTitles":["events get CLI command","text output"],"fullName":"events get CLI command text output should show error message for nonexistent event","status":"skipped","title":"should show error message for nonexistent event","failureMessages":[],"meta":{}},{"ancestorTitles":["events get CLI command","validation"],"fullName":"events get CLI command validation should require id parameter","status":"skipped","title":"should require id parameter","failureMessages":[],"meta":{}},{"ancestorTitles":["events get CLI command","validation"],"fullName":"events get CLI command validation should validate id is not empty","status":"skipped","title":"should validate id is not empty","failureMessages":[],"meta":{}},{"ancestorTitles":["events get CLI command","error handling"],"fullName":"events get CLI command error handling should handle invalid format gracefully","status":"skipped","title":"should handle invalid format gracefully","failureMessages":[],"meta":{}}],"startTime":1754056822990,"endTime":1754056822990,"status":"failed","message":"","name":"/var/www/html/systemprompt-os/tests/integration/modules/core/events/cli/get.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["events list CLI command","JSON output"],"fullName":"events list CLI command JSON output should return valid JSON with --format json","status":"failed","title":"should return valid JSON with --format json","duration":873.3429609993473,"failureMessages":["AssertionError: expected 1 to be +0 // Object.is equality\n    at /var/www/html/systemprompt-os/tests/integration/modules/core/events/cli/list.integration.test.ts:38:24\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1271:3)\n    at file:///var/www/html/systemprompt-os/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11"],"meta":{}},{"ancestorTitles":["events list CLI command","JSON output"],"fullName":"events list CLI command JSON output should include required event fields in JSON output","status":"failed","title":"should include required event fields in JSON output","duration":814.2844620002434,"failureMessages":["AssertionError: expected 1 to be +0 // Object.is equality\n    at /var/www/html/systemprompt-os/tests/integration/modules/core/events/cli/list.integration.test.ts:55:24\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1271:3)\n    at file:///var/www/html/systemprompt-os/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11"],"meta":{}},{"ancestorTitles":["events list CLI command","JSON output"],"fullName":"events list CLI command JSON output should support limit parameter","status":"failed","title":"should support limit parameter","duration":833.0107549997047,"failureMessages":["AssertionError: expected 1 to be +0 // Object.is equality\n    at /var/www/html/systemprompt-os/tests/integration/modules/core/events/cli/list.integration.test.ts:76:24\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1271:3)\n    at file:///var/www/html/systemprompt-os/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11"],"meta":{}},{"ancestorTitles":["events list CLI command","JSON output"],"fullName":"events list CLI command JSON output should support eventName filter","status":"failed","title":"should support eventName filter","duration":830.3370639998466,"failureMessages":["AssertionError: expected 1 to be +0 // Object.is equality\n    at /var/www/html/systemprompt-os/tests/integration/modules/core/events/cli/list.integration.test.ts:91:24\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1271:3)\n    at file:///var/www/html/systemprompt-os/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11"],"meta":{}},{"ancestorTitles":["events list CLI command","text output"],"fullName":"events list CLI command text output should display events in table format","status":"failed","title":"should display events in table format","duration":1666.832867000252,"failureMessages":["AssertionError: expected 1 to be +0 // Object.is equality\n    at /var/www/html/systemprompt-os/tests/integration/modules/core/events/cli/list.integration.test.ts:118:24\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1271:3)\n    at file:///var/www/html/systemprompt-os/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11"],"meta":{}},{"ancestorTitles":["events list CLI command","text output"],"fullName":"events list CLI command text output should handle empty results gracefully","status":"failed","title":"should handle empty results gracefully","duration":855.0300150001422,"failureMessages":["AssertionError: expected 1 to be +0 // Object.is equality\n    at /var/www/html/systemprompt-os/tests/integration/modules/core/events/cli/list.integration.test.ts:129:24\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1271:3)\n    at file:///var/www/html/systemprompt-os/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11"],"meta":{}},{"ancestorTitles":["events list CLI command","validation"],"fullName":"events list CLI command validation should validate limit parameter","status":"failed","title":"should validate limit parameter","duration":837.3537990003824,"failureMessages":["AssertionError: expected 'modules Could not initialize module m…' to contain 'Number must be greater than 0'\n    at /var/www/html/systemprompt-os/tests/integration/modules/core/events/cli/list.integration.test.ts:142:22\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1271:3)\n    at file:///var/www/html/systemprompt-os/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11"],"meta":{}},{"ancestorTitles":["events list CLI command","validation"],"fullName":"events list CLI command validation should validate limit maximum","status":"failed","title":"should validate limit maximum","duration":884.5016360003501,"failureMessages":["AssertionError: expected 'modules Could not initialize module m…' to contain 'Number must be less than or equal to …'\n    at /var/www/html/systemprompt-os/tests/integration/modules/core/events/cli/list.integration.test.ts:151:22\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1271:3)\n    at file:///var/www/html/systemprompt-os/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11"],"meta":{}},{"ancestorTitles":["events list CLI command","error handling"],"fullName":"events list CLI command error handling should handle invalid format gracefully","status":"failed","title":"should handle invalid format gracefully","duration":847.0408319998533,"failureMessages":["AssertionError: expected 'modules Could not initialize module m…' to contain 'Invalid enum value'\n    at /var/www/html/systemprompt-os/tests/integration/modules/core/events/cli/list.integration.test.ts:162:22\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1271:3)\n    at file:///var/www/html/systemprompt-os/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11"],"meta":{}}],"startTime":1754056872904,"endTime":1754056881345.5017,"status":"failed","message":"","name":"/var/www/html/systemprompt-os/tests/integration/modules/core/events/cli/list.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["Events CLI Status Command Integration Tests","CLI Command Execution"],"fullName":"Events CLI Status Command Integration Tests CLI Command Execution should execute status command successfully with default format","status":"failed","title":"should execute status command successfully with default format","duration":881.717639000155,"failureMessages":["Error: Command failed: DATABASE_PATH=/var/www/html/systemprompt-os/.test-integration/events-cli-test-1754056863394-5lb0buch9/test.db ./bin/systemprompt events status\nmodules Could not initialize module manager (database not available): { error: 'DatabaseService not initialized. Call initialize() first.' }\nCLI initialization failed: TypeError: Cannot read properties of undefined (reading 'has')\n    at Bootstrap.handleBootstrapError (/var/www/html/systemprompt-os/src/bootstrap.ts:210:22)\n    at Bootstrap.bootstrap (/var/www/html/systemprompt-os/src/bootstrap.ts:63:12)\n    at BootstrapCliService.bootstrapCli (/var/www/html/systemprompt-os/src/modules/core/cli/services/bootstrap-cli.service.ts:70:21)\n    at registerModuleCommands (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:283:37)\n    at main (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:375:20)\n\n    at ChildProcess.exithandler (node:child_process:422:12)\n    at ChildProcess.emit (node:events:517:28)\n    at maybeClose (node:internal/child_process:1098:16)\n    at Process.ChildProcess._handle.onexit (node:internal/child_process:303:5)"],"meta":{}},{"ancestorTitles":["Events CLI Status Command Integration Tests","CLI Command Execution"],"fullName":"Events CLI Status Command Integration Tests CLI Command Execution should return valid JSON with --format json","status":"failed","title":"should return valid JSON with --format json","duration":872.2407940002158,"failureMessages":["Error: Command failed: DATABASE_PATH=/var/www/html/systemprompt-os/.test-integration/events-cli-test-1754056863394-5lb0buch9/test.db ./bin/systemprompt events status --format json\nmodules Could not initialize module manager (database not available): { error: 'DatabaseService not initialized. Call initialize() first.' }\nCLI initialization failed: TypeError: Cannot read properties of undefined (reading 'has')\n    at Bootstrap.handleBootstrapError (/var/www/html/systemprompt-os/src/bootstrap.ts:210:22)\n    at Bootstrap.bootstrap (/var/www/html/systemprompt-os/src/bootstrap.ts:63:12)\n    at BootstrapCliService.bootstrapCli (/var/www/html/systemprompt-os/src/modules/core/cli/services/bootstrap-cli.service.ts:70:21)\n    at registerModuleCommands (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:283:37)\n    at main (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:375:20)\n\n    at ChildProcess.exithandler (node:child_process:422:12)\n    at ChildProcess.emit (node:events:517:28)\n    at maybeClose (node:internal/child_process:1098:16)\n    at Process.ChildProcess._handle.onexit (node:internal/child_process:303:5)"],"meta":{}},{"ancestorTitles":["Events CLI Status Command Integration Tests","CLI Command Execution"],"fullName":"Events CLI Status Command Integration Tests CLI Command Execution should handle --verbose flag correctly","status":"failed","title":"should handle --verbose flag correctly","duration":839.9859670000151,"failureMessages":["Error: Command failed: DATABASE_PATH=/var/www/html/systemprompt-os/.test-integration/events-cli-test-1754056863394-5lb0buch9/test.db ./bin/systemprompt events status --verbose --format json\nmodules Could not initialize module manager (database not available): { error: 'DatabaseService not initialized. Call initialize() first.' }\nCLI initialization failed: TypeError: Cannot read properties of undefined (reading 'has')\n    at Bootstrap.handleBootstrapError (/var/www/html/systemprompt-os/src/bootstrap.ts:210:22)\n    at Bootstrap.bootstrap (/var/www/html/systemprompt-os/src/bootstrap.ts:63:12)\n    at BootstrapCliService.bootstrapCli (/var/www/html/systemprompt-os/src/modules/core/cli/services/bootstrap-cli.service.ts:70:21)\n    at registerModuleCommands (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:283:37)\n    at main (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:375:20)\n\n    at ChildProcess.exithandler (node:child_process:422:12)\n    at ChildProcess.emit (node:events:517:28)\n    at maybeClose (node:internal/child_process:1098:16)\n    at Process.ChildProcess._handle.onexit (node:internal/child_process:303:5)"],"meta":{}},{"ancestorTitles":["Events CLI Status Command Integration Tests","CLI Command Execution"],"fullName":"Events CLI Status Command Integration Tests CLI Command Execution should handle --limit flag correctly","status":"failed","title":"should handle --limit flag correctly","duration":843.6877290001139,"failureMessages":["Error: Command failed: DATABASE_PATH=/var/www/html/systemprompt-os/.test-integration/events-cli-test-1754056863394-5lb0buch9/test.db ./bin/systemprompt events status --limit 5 --format json\nmodules Could not initialize module manager (database not available): { error: 'DatabaseService not initialized. Call initialize() first.' }\nCLI initialization failed: TypeError: Cannot read properties of undefined (reading 'has')\n    at Bootstrap.handleBootstrapError (/var/www/html/systemprompt-os/src/bootstrap.ts:210:22)\n    at Bootstrap.bootstrap (/var/www/html/systemprompt-os/src/bootstrap.ts:63:12)\n    at BootstrapCliService.bootstrapCli (/var/www/html/systemprompt-os/src/modules/core/cli/services/bootstrap-cli.service.ts:70:21)\n    at registerModuleCommands (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:283:37)\n    at main (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:375:20)\n\n    at ChildProcess.exithandler (node:child_process:422:12)\n    at ChildProcess.emit (node:events:517:28)\n    at maybeClose (node:internal/child_process:1098:16)\n    at Process.ChildProcess._handle.onexit (node:internal/child_process:303:5)"],"meta":{}},{"ancestorTitles":["Events CLI Status Command Integration Tests","CLI Command Execution"],"fullName":"Events CLI Status Command Integration Tests CLI Command Execution should validate argument types","status":"failed","title":"should validate argument types","duration":857.106724999845,"failureMessages":["AssertionError: expected 'modules Could not initialize module m…' to contain 'Invalid arguments'\n    at /var/www/html/systemprompt-os/tests/integration/modules/core/events/cli/status.integration.test.ts:201:30\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1271:3)\n    at file:///var/www/html/systemprompt-os/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11"],"meta":{}},{"ancestorTitles":["Events CLI Status Command Integration Tests","CLI Command Execution"],"fullName":"Events CLI Status Command Integration Tests CLI Command Execution should handle empty database gracefully","status":"failed","title":"should handle empty database gracefully","duration":840.5714659998193,"failureMessages":["Error: Command failed: DATABASE_PATH=/var/www/html/systemprompt-os/.test-integration/events-cli-test-1754056863394-5lb0buch9/test.db ./bin/systemprompt events status --format json\nmodules Could not initialize module manager (database not available): { error: 'DatabaseService not initialized. Call initialize() first.' }\nCLI initialization failed: TypeError: Cannot read properties of undefined (reading 'has')\n    at Bootstrap.handleBootstrapError (/var/www/html/systemprompt-os/src/bootstrap.ts:210:22)\n    at Bootstrap.bootstrap (/var/www/html/systemprompt-os/src/bootstrap.ts:63:12)\n    at BootstrapCliService.bootstrapCli (/var/www/html/systemprompt-os/src/modules/core/cli/services/bootstrap-cli.service.ts:70:21)\n    at registerModuleCommands (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:283:37)\n    at main (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:375:20)\n\n    at ChildProcess.exithandler (node:child_process:422:12)\n    at ChildProcess.emit (node:events:517:28)\n    at maybeClose (node:internal/child_process:1098:16)\n    at Process.ChildProcess._handle.onexit (node:internal/child_process:303:5)"],"meta":{}},{"ancestorTitles":["Events CLI Status Command Integration Tests","JSON Output Validation"],"fullName":"Events CLI Status Command Integration Tests JSON Output Validation should return properly formatted JSON","status":"failed","title":"should return properly formatted JSON","duration":821.6337989997119,"failureMessages":["Error: Command failed: DATABASE_PATH=/var/www/html/systemprompt-os/.test-integration/events-cli-test-1754056863394-5lb0buch9/test.db ./bin/systemprompt events status --format json\nmodules Could not initialize module manager (database not available): { error: 'DatabaseService not initialized. Call initialize() first.' }\nCLI initialization failed: TypeError: Cannot read properties of undefined (reading 'has')\n    at Bootstrap.handleBootstrapError (/var/www/html/systemprompt-os/src/bootstrap.ts:210:22)\n    at Bootstrap.bootstrap (/var/www/html/systemprompt-os/src/bootstrap.ts:63:12)\n    at BootstrapCliService.bootstrapCli (/var/www/html/systemprompt-os/src/modules/core/cli/services/bootstrap-cli.service.ts:70:21)\n    at registerModuleCommands (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:283:37)\n    at main (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:375:20)\n\n    at ChildProcess.exithandler (node:child_process:422:12)\n    at ChildProcess.emit (node:events:517:28)\n    at maybeClose (node:internal/child_process:1098:16)\n    at Process.ChildProcess._handle.onexit (node:internal/child_process:303:5)"],"meta":{}},{"ancestorTitles":["Events CLI Status Command Integration Tests","JSON Output Validation"],"fullName":"Events CLI Status Command Integration Tests JSON Output Validation should include all required fields in JSON output","status":"failed","title":"should include all required fields in JSON output","duration":842.4160440005362,"failureMessages":["Error: Command failed: DATABASE_PATH=/var/www/html/systemprompt-os/.test-integration/events-cli-test-1754056863394-5lb0buch9/test.db ./bin/systemprompt events status --format json\nmodules Could not initialize module manager (database not available): { error: 'DatabaseService not initialized. Call initialize() first.' }\nCLI initialization failed: TypeError: Cannot read properties of undefined (reading 'has')\n    at Bootstrap.handleBootstrapError (/var/www/html/systemprompt-os/src/bootstrap.ts:210:22)\n    at Bootstrap.bootstrap (/var/www/html/systemprompt-os/src/bootstrap.ts:63:12)\n    at BootstrapCliService.bootstrapCli (/var/www/html/systemprompt-os/src/modules/core/cli/services/bootstrap-cli.service.ts:70:21)\n    at registerModuleCommands (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:283:37)\n    at main (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:375:20)\n\n    at ChildProcess.exithandler (node:child_process:422:12)\n    at ChildProcess.emit (node:events:517:28)\n    at maybeClose (node:internal/child_process:1098:16)\n    at Process.ChildProcess._handle.onexit (node:internal/child_process:303:5)"],"meta":{}},{"ancestorTitles":["Events CLI Status Command Integration Tests","Error Handling"],"fullName":"Events CLI Status Command Integration Tests Error Handling should handle database connection errors gracefully","status":"failed","title":"should handle database connection errors gracefully","duration":825.3038210002705,"failureMessages":["AssertionError: expected 'modules Could not initialize module m…' to contain 'Failed to get events status'\n    at /var/www/html/systemprompt-os/tests/integration/modules/core/events/cli/status.integration.test.ts:269:30\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1271:3)\n    at file:///var/www/html/systemprompt-os/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11"],"meta":{}},{"ancestorTitles":["Events CLI Status Command Integration Tests","Error Handling"],"fullName":"Events CLI Status Command Integration Tests Error Handling should return proper exit codes","status":"failed","title":"should return proper exit codes","duration":834.3999699996784,"failureMessages":["Error: Command failed: DATABASE_PATH=/var/www/html/systemprompt-os/.test-integration/events-cli-test-1754056863394-5lb0buch9/test.db ./bin/systemprompt events status --format json\nmodules Could not initialize module manager (database not available): { error: 'DatabaseService not initialized. Call initialize() first.' }\nCLI initialization failed: TypeError: Cannot read properties of undefined (reading 'has')\n    at Bootstrap.handleBootstrapError (/var/www/html/systemprompt-os/src/bootstrap.ts:210:22)\n    at Bootstrap.bootstrap (/var/www/html/systemprompt-os/src/bootstrap.ts:63:12)\n    at BootstrapCliService.bootstrapCli (/var/www/html/systemprompt-os/src/modules/core/cli/services/bootstrap-cli.service.ts:70:21)\n    at registerModuleCommands (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:283:37)\n    at main (/var/www/html/systemprompt-os/src/modules/core/cli/cli/main.ts:375:20)\n\n    at ChildProcess.exithandler (node:child_process:422:12)\n    at ChildProcess.emit (node:events:517:28)\n    at maybeClose (node:internal/child_process:1098:16)\n    at Process.ChildProcess._handle.onexit (node:internal/child_process:303:5)"],"meta":{}}],"startTime":1754056863567,"endTime":1754056872026.4,"status":"failed","message":"","name":"/var/www/html/systemprompt-os/tests/integration/modules/core/events/cli/status.integration.test.ts"}]}