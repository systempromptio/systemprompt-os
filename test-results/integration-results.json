{"numTotalTestSuites":14,"numPassedTestSuites":7,"numFailedTestSuites":7,"numPendingTestSuites":0,"numTotalTests":48,"numPassedTests":1,"numFailedTests":6,"numPendingTests":41,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1754040189234,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Auth Module Integration Tests","Module Bootstrap"],"fullName":"Auth Module Integration Tests Module Bootstrap should load auth module during bootstrap","status":"skipped","title":"should load auth module during bootstrap","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","Module Bootstrap"],"fullName":"Auth Module Integration Tests Module Bootstrap should initialize auth services correctly","status":"skipped","title":"should initialize auth services correctly","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","Module Bootstrap"],"fullName":"Auth Module Integration Tests Module Bootstrap should have properly initialized database schema","status":"skipped","title":"should have properly initialized database schema","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","OAuth2 Provider Integration"],"fullName":"Auth Module Integration Tests OAuth2 Provider Integration should register OAuth2 providers","status":"skipped","title":"should register OAuth2 providers","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","OAuth2 Provider Integration"],"fullName":"Auth Module Integration Tests OAuth2 Provider Integration should handle provider configuration","status":"skipped","title":"should handle provider configuration","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","OAuth2 Provider Integration"],"fullName":"Auth Module Integration Tests OAuth2 Provider Integration should access providers service","status":"skipped","title":"should access providers service","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","OAuth2 Provider Integration"],"fullName":"Auth Module Integration Tests OAuth2 Provider Integration should reload providers","status":"skipped","title":"should reload providers","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","OAuth2 Provider Integration"],"fullName":"Auth Module Integration Tests OAuth2 Provider Integration should provide OAuth2 server metadata","status":"skipped","title":"should provide OAuth2 server metadata","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","OAuth2 Provider Integration"],"fullName":"Auth Module Integration Tests OAuth2 Provider Integration should provide protected resource metadata","status":"skipped","title":"should provide protected resource metadata","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","OAuth2 Provider Integration"],"fullName":"Auth Module Integration Tests OAuth2 Provider Integration should generate provider callback URLs","status":"skipped","title":"should generate provider callback URLs","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","Token Management"],"fullName":"Auth Module Integration Tests Token Management should generate access tokens","status":"skipped","title":"should generate access tokens","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","Token Management"],"fullName":"Auth Module Integration Tests Token Management should validate token signatures","status":"skipped","title":"should validate token signatures","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","Token Management"],"fullName":"Auth Module Integration Tests Token Management should handle token expiration","status":"skipped","title":"should handle token expiration","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","Token Management"],"fullName":"Auth Module Integration Tests Token Management should revoke tokens","status":"skipped","title":"should revoke tokens","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","Token Management"],"fullName":"Auth Module Integration Tests Token Management should refresh tokens","status":"skipped","title":"should refresh tokens","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","Token Management"],"fullName":"Auth Module Integration Tests Token Management should list user tokens using module exports","status":"skipped","title":"should list user tokens using module exports","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","Token Management"],"fullName":"Auth Module Integration Tests Token Management should revoke tokens using module exports","status":"skipped","title":"should revoke tokens using module exports","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","Token Management"],"fullName":"Auth Module Integration Tests Token Management should revoke all user tokens using module exports","status":"skipped","title":"should revoke all user tokens using module exports","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","Token Management"],"fullName":"Auth Module Integration Tests Token Management should clean up expired tokens","status":"skipped","title":"should clean up expired tokens","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","User Authentication"],"fullName":"Auth Module Integration Tests User Authentication should authenticate user with credentials","status":"skipped","title":"should authenticate user with credentials","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","User Authentication"],"fullName":"Auth Module Integration Tests User Authentication should create user session","status":"skipped","title":"should create user session","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","User Authentication"],"fullName":"Auth Module Integration Tests User Authentication should handle failed authentication","status":"skipped","title":"should handle failed authentication","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","User Authentication"],"fullName":"Auth Module Integration Tests User Authentication should track authentication attempts","status":"skipped","title":"should track authentication attempts","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","User Authentication"],"fullName":"Auth Module Integration Tests User Authentication should handle getUserById with non-existent user","status":"skipped","title":"should handle getUserById with non-existent user","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","User Authentication"],"fullName":"Auth Module Integration Tests User Authentication should handle getUserByEmail with non-existent email","status":"skipped","title":"should handle getUserByEmail with non-existent email","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","User Authentication"],"fullName":"Auth Module Integration Tests User Authentication should retrieve existing users by ID and email","status":"skipped","title":"should retrieve existing users by ID and email","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","CLI Commands"],"fullName":"Auth Module Integration Tests CLI Commands should execute auth status command","status":"skipped","title":"should execute auth status command","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","CLI Commands"],"fullName":"Auth Module Integration Tests CLI Commands should list auth providers","status":"skipped","title":"should list auth providers","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","CLI Commands"],"fullName":"Auth Module Integration Tests CLI Commands should generate JWT keys","status":"skipped","title":"should generate JWT keys","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","CLI Commands"],"fullName":"Auth Module Integration Tests CLI Commands should handle database commands","status":"skipped","title":"should handle database commands","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","CLI Commands"],"fullName":"Auth Module Integration Tests CLI Commands should handle role management","status":"skipped","title":"should handle role management","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","CLI Commands"],"fullName":"Auth Module Integration Tests CLI Commands should execute auth providers command","status":"skipped","title":"should execute auth providers command","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","CLI Commands"],"fullName":"Auth Module Integration Tests CLI Commands should handle auth role commands","status":"skipped","title":"should handle auth role commands","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","Database Normalization"],"fullName":"Auth Module Integration Tests Database Normalization should store token scopes in normalized table","status":"skipped","title":"should store token scopes in normalized table","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","Database Normalization"],"fullName":"Auth Module Integration Tests Database Normalization should not use JSON columns in core tables","status":"skipped","title":"should not use JSON columns in core tables","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","Database Normalization"],"fullName":"Auth Module Integration Tests Database Normalization should properly interact with auth database tables","status":"skipped","title":"should properly interact with auth database tables","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","Database Normalization"],"fullName":"Auth Module Integration Tests Database Normalization should maintain referential integrity","status":"skipped","title":"should maintain referential integrity","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","Service Integration"],"fullName":"Auth Module Integration Tests Service Integration should have all services properly initialized","status":"skipped","title":"should have all services properly initialized","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","Service Integration"],"fullName":"Auth Module Integration Tests Service Integration should access all auth module exports","status":"skipped","title":"should access all auth module exports","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","Service Integration"],"fullName":"Auth Module Integration Tests Service Integration should handle service errors gracefully","status":"skipped","title":"should handle service errors gracefully","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Module Integration Tests","Service Integration"],"fullName":"Auth Module Integration Tests Service Integration should maintain singleton pattern","status":"skipped","title":"should maintain singleton pattern","failureMessages":[],"meta":{}}],"startTime":1754040189234,"endTime":1754040189234,"status":"failed","message":"","name":"/var/www/html/systemprompt-os/tests/integration/modules/core/auth/auth.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["OAuth Provider Database Integration","Provider Storage and Loading"],"fullName":"OAuth Provider Database Integration Provider Storage and Loading should store Google OAuth provider configuration in database","status":"passed","title":"should store Google OAuth provider configuration in database","duration":1.6947119999676943,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth Provider Database Integration","Provider Storage and Loading"],"fullName":"OAuth Provider Database Integration Provider Storage and Loading should load provider from database and make it available to auth module","status":"failed","title":"should load provider from database and make it available to auth module","duration":0.569713999517262,"failureMessages":["TypeError: authExports.providersService is not a function\n    at /var/www/html/systemprompt-os/tests/integration/modules/core/auth/oauth-provider-db.integration.test.ts:167:44\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1271:3)\n    at file:///var/www/html/systemprompt-os/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11\n    at withEnv (file:///var/www/html/systemprompt-os/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:90:5)"],"meta":{}},{"ancestorTitles":["OAuth Provider Database Integration","Generic Provider Factory"],"fullName":"OAuth Provider Database Integration Generic Provider Factory should create working OAuth2 provider from database config","status":"failed","title":"should create working OAuth2 provider from database config","duration":0.6104629999026656,"failureMessages":["TypeError: authExports.providersService is not a function\n    at /var/www/html/systemprompt-os/tests/integration/modules/core/auth/oauth-provider-db.integration.test.ts:234:44\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1271:3)\n    at file:///var/www/html/systemprompt-os/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11\n    at withEnv (file:///var/www/html/systemprompt-os/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:90:5)"],"meta":{}},{"ancestorTitles":["OAuth Provider Database Integration","Generic Provider Factory"],"fullName":"OAuth Provider Database Integration Generic Provider Factory should support OIDC providers with discovery","status":"failed","title":"should support OIDC providers with discovery","duration":0.5837440006434917,"failureMessages":["TypeError: authExports.providersService is not a function\n    at /var/www/html/systemprompt-os/tests/integration/modules/core/auth/oauth-provider-db.integration.test.ts:267:44\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1271:3)\n    at file:///var/www/html/systemprompt-os/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11\n    at withEnv (file:///var/www/html/systemprompt-os/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:90:5)"],"meta":{}},{"ancestorTitles":["OAuth Provider Database Integration","Provider CRUD Operations"],"fullName":"OAuth Provider Database Integration Provider CRUD Operations should create provider through service API","status":"failed","title":"should create provider through service API","duration":0.7025830000638962,"failureMessages":["TypeError: authExports.providersService is not a function\n    at /var/www/html/systemprompt-os/tests/integration/modules/core/auth/oauth-provider-db.integration.test.ts:279:44\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:146:14\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:533:11\n    at runWithTimeout (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:39:7)\n    at runTest (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1056:17)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1271:3)"],"meta":{}},{"ancestorTitles":["OAuth Provider Database Integration","Provider CRUD Operations"],"fullName":"OAuth Provider Database Integration Provider CRUD Operations should update provider configuration","status":"failed","title":"should update provider configuration","duration":1.8019399996846914,"failureMessages":["TypeError: authExports.providersService is not a function\n    at /var/www/html/systemprompt-os/tests/integration/modules/core/auth/oauth-provider-db.integration.test.ts:324:44\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1271:3)\n    at file:///var/www/html/systemprompt-os/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11\n    at withEnv (file:///var/www/html/systemprompt-os/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:90:5)"],"meta":{}},{"ancestorTitles":["OAuth Provider Database Integration","Provider CRUD Operations"],"fullName":"OAuth Provider Database Integration Provider CRUD Operations should delete provider","status":"failed","title":"should delete provider","duration":5.553929999470711,"failureMessages":["TypeError: authExports.providersService is not a function\n    at /var/www/html/systemprompt-os/tests/integration/modules/core/auth/oauth-provider-db.integration.test.ts:360:44\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///var/www/html/systemprompt-os/node_modules/@vitest/runner/dist/index.js:1271:3)\n    at file:///var/www/html/systemprompt-os/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11"],"meta":{}}],"startTime":1754040190947,"endTime":1754040190958.6948,"status":"failed","message":"","name":"/var/www/html/systemprompt-os/tests/integration/modules/core/auth/oauth-provider-db.integration.test.ts"}]}